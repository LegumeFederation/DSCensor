<!DOCTYPE html>
<html lang="en">
<head>
        <title>SIRE report</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.1/crossfilter.min.js"></script>
    <script src="http://d3js.org/d3.v3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.0-beta.31/dc.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/colreorder/1.3.2/js/dataTables.colReorder.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.2.0/js/dataTables.select.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.0-beta.31/dc.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/colreorder/1.3.2/css/colReorder.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/select/1.2.0/css/select.dataTables.min.css">
            <style>
    a {color: blue;}
    a.toggle-vis-metrics.active {color :purple;}
    a.toggle-vis-metrics.visited {color : blue;}
    .select-info {
        visibility : hidden;
    }
    #scaffoldContiguity-chart .x.axis text {
        text-anchor: end !important;
        font-weight: bold;
        transform: rotate(-30deg);
    }
    #assemblyBases-chart .x.axis text {
        text-anchor: end !important;
        font-weight: bold;
        transform: rotate(-30deg);
    }
    #customMetrics-chart .x.axis text {
        text-anchor: end !important;
        font-weight: bold;
        transform: rotate(-30deg);
    }
    #buscoComplete-chart .x.axis text {
        text-anchor: end !important;
        font-weight: bold;
        transform: rotate(-30deg);
    }            </style>
</head>
<body>
    <div class="container-fluid">
        <div class="list-group" id="toc">
            <li class="list-group-item active">
                <h2 class="list-group-item-heading">Table of Contents</h2>
            </li>
<li class="list-group-item">
            <a href="#results">Results</a>
        </li>
        </div>
    </div>
            <a name="results"></a>
            <div class="container-fluid">
                <div class="list-group" id="results">
                    <li class="list-group-item active">
                        <h2 class="list-group-item-heading">Results</h2>
                    </li>
                            <h3 class="list-group-item" align="center"><b><u>FASTA Metrics Table</u></b></h3>
                            <li class="list-group-item">
                                <div style="margin-top:0.5em;margin-bottom:0.5em">
                                    <b>Toggle Column:</b>
    <a class="toggle-vis-metrics" data-column="Assembly Name">Assembly Name</a>
 /
    <a class="toggle-vis-metrics" data-column="Total BUSCOs">Total BUSCOs</a>
 /
    <a class="toggle-vis-metrics" data-column="BUSCO Complete">BUSCO Complete</a>
 /
    <a class="toggle-vis-metrics" data-column="BUSCO Complete Single">BUSCO Complete Single</a>
 /
    <a class="toggle-vis-metrics" data-column="BUSCO Complete Duplicate">BUSCO Complete Duplicate</a>
 /
    <a class="toggle-vis-metrics" data-column="BUSCO Fragmented">BUSCO Fragmented</a>
 /
    <a class="toggle-vis-metrics" data-column="Busco Missing">Busco Missing</a>
 /
    <a class="toggle-vis-metrics" data-column="Scaffolds">Scaffolds</a>
 /
    <a class="toggle-vis-metrics" data-column="Bases in Scaffolds">Bases in Scaffolds</a>
 /
    <a class="toggle-vis-metrics" data-column="Scaffold N50">Scaffold N50</a>
 /
    <a class="toggle-vis-metrics" data-column="Scaffold N90">Scaffold N90</a>
 /
    <a class="toggle-vis-metrics" data-column="Max Scaffold">Max Scaffold</a>
 /
    <a class="toggle-vis-metrics" data-column="Min Scaffold">Min Scaffold</a>
 /
    <a class="toggle-vis-metrics" data-column="Contigs">Contigs</a>
 /
    <a class="toggle-vis-metrics" data-column="Bases in Contigs">Bases in Contigs</a>
 /
    <a class="toggle-vis-metrics" data-column="Contig N50">Contig N50</a>
 /
    <a class="toggle-vis-metrics" data-column="Contig N90">Contig N90</a>
 /
    <a class="toggle-vis-metrics" data-column="Max Contig">Max Contig</a>
 /
    <a class="toggle-vis-metrics" data-column="Min Contig">Min Contig</a>
 /
    <a class="toggle-vis-metrics" data-column="Gaps">Gaps</a>
 /
    <a class="toggle-vis-metrics" data-column="Bases in Gaps">Bases in Gaps</a>
 /
    <a class="toggle-vis-metrics" data-column="Gap N50">Gap N50</a>
 /
    <a class="toggle-vis-metrics" data-column="Max Gap">Max Gap</a>
 /
    <a class="toggle-vis-metrics" data-column="Min Gap">Min Gap</a>
 /
                                </div>
                                <table class="table table-striped table-bordered" id="metrics-datatable"></table>
                                <button id="filter-metrics">Filter Table Rows</button>
                                <button id="reset-metrics">RESET ALL</button>
                            </li>
                            <h3 class="list-group-item" align="center"><u><b>Scaffold N50 for Assemblies</b></u></h3>
                            <li class="list-group-item">
                                <span id="scaffoldContiguity-chart"></span>
                            </li>
                            <h3 class="list-group-item" align="center"><u><b>Assembly Bases by Type</b></u></h3>
                            <li class="list-group-item">
                                <span id="assemblyBases-chart"></span>
                            </li>
                            <h3 class="list-group-item" align="center"><u><b>BUSCOs by Type</b></u></h3>
                            <li class="list-group-item">
                                <span id="buscoComplete-chart"></span>
                            </li>
                </div>
            </div>
</body>
    <script>
var color_anchors = function(t){
    if (t.hasClass('active')){
        t.removeClass('active');
        t.addClass('visited');
    } else {
        t.removeClass('visited');
        t.addClass('active');
    }
};    </script>
            <script>
                var assembly_metrics = crossfilter([{"scaffold_length": 421833506, "max_scaffold": 47385368, "busco_missing": 10.1, "gaps": 6616, "total": 1440, "scaffolds": 67551, "contigs": 74167, "min_gap": 10, "gap_length": 50191568, "assembly_gc": 33.84, "min_scaffold": 62, "max_contig": 10692405, "busco_dup": 7.1, "busco_fragmented": 6.8, "min_contig": 1, "busco_single": 76.0, "busco_complete": 83.1, "contig_N50": 138846, "contig_length": 371641938, "max_gap": 250000, "assembly_name": "genome.A17_HM341.v3.5.1", "contig_N90": 1475, "gap_N50": 150000, "scaffold_N50": 33997684, "scaffold_N90": 1681}, {"scaffold_length": 411831487, "max_scaffold": 56582383, "busco_missing": 7.5, "gaps": 5831, "total": 1440, "scaffolds": 1949, "contigs": 7780, "min_gap": 10, "gap_length": 22811683, "assembly_gc": 33.08, "min_scaffold": 1004, "max_contig": 5331692, "busco_dup": 6.1, "busco_fragmented": 1.9, "min_contig": 200, "busco_single": 84.5, "busco_complete": 90.6, "contig_N50": 342925, "contig_length": 389019804, "max_gap": 174450, "assembly_name": "genome.A17_HM341.v4.0", "contig_N90": 28129, "gap_N50": 24888, "scaffold_N50": 49172423, "scaffold_N90": 35275713}, {"scaffold_length": 399385294, "max_scaffold": 9290596, "busco_missing": 6.1, "gaps": 18168, "total": 1440, "scaffolds": 3494, "contigs": 21662, "min_gap": 10, "gap_length": 38266459, "assembly_gc": 32.82, "min_scaffold": 958, "max_contig": 311906, "busco_dup": 6.2, "busco_fragmented": 2.4, "min_contig": 1, "busco_single": 85.3, "busco_complete": 91.5, "contig_N50": 45005, "contig_length": 361118835, "max_gap": 13681, "assembly_name": "genome.HM004.v1.0", "contig_N90": 7540, "gap_N50": 4082, "scaffold_N50": 1039400, "scaffold_N90": 128407}, {"scaffold_length": 399385294, "max_scaffold": 9290596, "busco_missing": 6.1, "gaps": 18168, "total": 1440, "scaffolds": 3494, "contigs": 21662, "min_gap": 10, "gap_length": 38266459, "assembly_gc": 32.82, "min_scaffold": 958, "max_contig": 311906, "busco_dup": 6.2, "busco_fragmented": 2.4, "min_contig": 1, "busco_single": 85.3, "busco_complete": 91.5, "contig_N50": 45005, "contig_length": 361118835, "max_gap": 13681, "assembly_name": "genome.HM004.v1", "contig_N90": 7540, "gap_N50": 4082, "scaffold_N50": 1039400, "scaffold_N90": 128407}, {"scaffold_length": 403887869, "max_scaffold": 6544913, "busco_missing": 6.2, "gaps": 18697, "total": 1440, "scaffolds": 3159, "contigs": 21856, "min_gap": 10, "gap_length": 37952434, "assembly_gc": 32.82, "min_scaffold": 948, "max_contig": 379093, "busco_dup": 6.2, "busco_fragmented": 2.3, "min_contig": 1, "busco_single": 85.3, "busco_complete": 91.5, "contig_N50": 44036, "contig_length": 365935435, "max_gap": 11030, "assembly_name": "genome.HM010.v1.0", "contig_N90": 7790, "gap_N50": 4069, "scaffold_N50": 718741, "scaffold_N90": 128652}, {"scaffold_length": 403887869, "max_scaffold": 6544913, "busco_missing": 6.2, "gaps": 18697, "total": 1440, "scaffolds": 3159, "contigs": 21856, "min_gap": 10, "gap_length": 37952434, "assembly_gc": 32.82, "min_scaffold": 948, "max_contig": 379093, "busco_dup": 6.2, "busco_fragmented": 2.3, "min_contig": 1, "busco_single": 85.3, "busco_complete": 91.5, "contig_N50": 44036, "contig_length": 365935435, "max_gap": 11030, "assembly_name": "genome.HM010.v1", "contig_N90": 7790, "gap_N50": 4069, "scaffold_N50": 718741, "scaffold_N90": 128652}, {"scaffold_length": 374674840, "max_scaffold": 8809216, "busco_missing": 5.7, "gaps": 16111, "total": 1440, "scaffolds": 2565, "contigs": 18676, "min_gap": 10, "gap_length": 31017903, "assembly_gc": 32.71, "min_scaffold": 958, "max_contig": 377074, "busco_dup": 6.7, "busco_fragmented": 2.3, "min_contig": 1, "busco_single": 85.3, "busco_complete": 92.0, "contig_N50": 48583, "contig_length": 343656937, "max_gap": 10625, "assembly_name": "genome.HM022.v1.0", "contig_N90": 8678, "gap_N50": 4025, "scaffold_N50": 1154699, "scaffold_N90": 156702}, {"scaffold_length": 374674840, "max_scaffold": 8809216, "busco_missing": 5.7, "gaps": 16111, "total": 1440, "scaffolds": 2565, "contigs": 18676, "min_gap": 10, "gap_length": 31017903, "assembly_gc": 32.71, "min_scaffold": 958, "max_contig": 377074, "busco_dup": 6.7, "busco_fragmented": 2.3, "min_contig": 1, "busco_single": 85.3, "busco_complete": 92.0, "contig_N50": 48583, "contig_length": 343656937, "max_gap": 10625, "assembly_name": "genome.HM022.v1", "contig_N90": 8678, "gap_N50": 4025, "scaffold_N50": 1154699, "scaffold_N90": 156702}, {"scaffold_length": 403142311, "max_scaffold": 5130354, "busco_missing": 6.2, "gaps": 17390, "total": 1440, "scaffolds": 3728, "contigs": 21118, "min_gap": 10, "gap_length": 41898847, "assembly_gc": 32.76, "min_scaffold": 960, "max_contig": 372044, "busco_dup": 6.2, "busco_fragmented": 2.2, "min_contig": 1, "busco_single": 85.4, "busco_complete": 91.6, "contig_N50": 46637, "contig_length": 361243464, "max_gap": 12412, "assembly_name": "genome.HM023.v1.0", "contig_N90": 7777, "gap_N50": 4615, "scaffold_N50": 620702, "scaffold_N90": 94300}, {"scaffold_length": 403142311, "max_scaffold": 5130354, "busco_missing": 6.2, "gaps": 17390, "total": 1440, "scaffolds": 3728, "contigs": 21118, "min_gap": 10, "gap_length": 41898847, "assembly_gc": 32.76, "min_scaffold": 960, "max_contig": 372044, "busco_dup": 6.2, "busco_fragmented": 2.2, "min_contig": 1, "busco_single": 85.4, "busco_complete": 91.6, "contig_N50": 46637, "contig_length": 361243464, "max_gap": 12412, "assembly_name": "genome.HM023.v1", "contig_N90": 7777, "gap_N50": 4615, "scaffold_N50": 620702, "scaffold_N90": 94300}, {"scaffold_length": 396665787, "max_scaffold": 6140737, "busco_missing": 6.1, "gaps": 16646, "total": 1440, "scaffolds": 3267, "contigs": 19913, "min_gap": 10, "gap_length": 33879005, "assembly_gc": 32.79, "min_scaffold": 947, "max_contig": 374291, "busco_dup": 6.9, "busco_fragmented": 2.3, "min_contig": 1, "busco_single": 84.7, "busco_complete": 91.6, "contig_N50": 49967, "contig_length": 362786782, "max_gap": 11795, "assembly_name": "genome.HM034.v1.0", "contig_N90": 8562, "gap_N50": 4059, "scaffold_N50": 727454, "scaffold_N90": 129197}, {"scaffold_length": 396665787, "max_scaffold": 6140737, "busco_missing": 6.1, "gaps": 16646, "total": 1440, "scaffolds": 3267, "contigs": 19913, "min_gap": 10, "gap_length": 33879005, "assembly_gc": 32.79, "min_scaffold": 947, "max_contig": 374291, "busco_dup": 6.9, "busco_fragmented": 2.3, "min_contig": 1, "busco_single": 84.7, "busco_complete": 91.6, "contig_N50": 49967, "contig_length": 362786782, "max_gap": 11795, "assembly_name": "genome.HM034.v1", "contig_N90": 8562, "gap_N50": 4059, "scaffold_N50": 727454, "scaffold_N90": 129197}, {"scaffold_length": 406245560, "max_scaffold": 8622067, "busco_missing": 6.1, "gaps": 18087, "total": 1440, "scaffolds": 3234, "contigs": 21321, "min_gap": 10, "gap_length": 39804449, "assembly_gc": 32.88, "min_scaffold": 941, "max_contig": 349806, "busco_dup": 6.1, "busco_fragmented": 2.2, "min_contig": 1, "busco_single": 85.6, "busco_complete": 91.7, "contig_N50": 47949, "contig_length": 366441111, "max_gap": 14775, "assembly_name": "genome.HM050.v1.0", "contig_N90": 7778, "gap_N50": 4490, "scaffold_N50": 1370679, "scaffold_N90": 159699}, {"scaffold_length": 406245560, "max_scaffold": 8622067, "busco_missing": 6.1, "gaps": 18087, "total": 1440, "scaffolds": 3234, "contigs": 21321, "min_gap": 10, "gap_length": 39804449, "assembly_gc": 32.88, "min_scaffold": 941, "max_contig": 349806, "busco_dup": 6.1, "busco_fragmented": 2.2, "min_contig": 1, "busco_single": 85.6, "busco_complete": 91.7, "contig_N50": 47949, "contig_length": 366441111, "max_gap": 14775, "assembly_name": "genome.HM050.v1", "contig_N90": 7778, "gap_N50": 4490, "scaffold_N50": 1370679, "scaffold_N90": 159699}, {"scaffold_length": 406705336, "max_scaffold": 5985141, "busco_missing": 6.0, "gaps": 20272, "total": 1440, "scaffolds": 3486, "contigs": 23758, "min_gap": 10, "gap_length": 43733520, "assembly_gc": 32.85, "min_scaffold": 952, "max_contig": 355883, "busco_dup": 6.4, "busco_fragmented": 2.2, "min_contig": 1, "busco_single": 85.4, "busco_complete": 91.8, "contig_N50": 37411, "contig_length": 362971816, "max_gap": 12016, "assembly_name": "genome.HM056.v1", "contig_N90": 6592, "gap_N50": 4609, "scaffold_N50": 718332, "scaffold_N90": 114872}, {"scaffold_length": 406705336, "max_scaffold": 5985141, "busco_missing": 6.0, "gaps": 20272, "total": 1440, "scaffolds": 3486, "contigs": 23758, "min_gap": 10, "gap_length": 43733520, "assembly_gc": 32.85, "min_scaffold": 952, "max_contig": 355883, "busco_dup": 6.4, "busco_fragmented": 2.2, "min_contig": 1, "busco_single": 85.4, "busco_complete": 91.8, "contig_N50": 37411, "contig_length": 362971816, "max_gap": 12016, "assembly_name": "genome.HM056.v2.0", "contig_N90": 6592, "gap_N50": 4609, "scaffold_N50": 718332, "scaffold_N90": 114872}, {"scaffold_length": 409729257, "max_scaffold": 3222558, "busco_missing": 5.9, "gaps": 20789, "total": 1440, "scaffolds": 4349, "contigs": 25138, "min_gap": 10, "gap_length": 54724628, "assembly_gc": 32.77, "min_scaffold": 961, "max_contig": 350560, "busco_dup": 5.9, "busco_fragmented": 2.5, "min_contig": 1, "busco_single": 85.7, "busco_complete": 91.6, "contig_N50": 35575, "contig_length": 355004629, "max_gap": 12450, "assembly_name": "genome.HM058.v1.0", "contig_N90": 6231, "gap_N50": 5150, "scaffold_N50": 518877, "scaffold_N90": 81080}, {"scaffold_length": 409729257, "max_scaffold": 3222558, "busco_missing": 5.9, "gaps": 20789, "total": 1440, "scaffolds": 4349, "contigs": 25138, "min_gap": 10, "gap_length": 54724628, "assembly_gc": 32.77, "min_scaffold": 961, "max_contig": 350560, "busco_dup": 5.9, "busco_fragmented": 2.5, "min_contig": 1, "busco_single": 85.7, "busco_complete": 91.6, "contig_N50": 35575, "contig_length": 355004629, "max_gap": 12450, "assembly_name": "genome.HM058.v1", "contig_N90": 6231, "gap_N50": 5150, "scaffold_N50": 518877, "scaffold_N90": 81080}, {"scaffold_length": 403209823, "max_scaffold": 3832561, "busco_missing": 6.2, "gaps": 17167, "total": 1440, "scaffolds": 3634, "contigs": 20801, "min_gap": 10, "gap_length": 39901128, "assembly_gc": 32.79, "min_scaffold": 945, "max_contig": 396295, "busco_dup": 6.4, "busco_fragmented": 2.4, "min_contig": 1, "busco_single": 85.0, "busco_complete": 91.4, "contig_N50": 48055, "contig_length": 363308695, "max_gap": 14475, "assembly_name": "genome.HM060.v1.0", "contig_N90": 8065, "gap_N50": 4460, "scaffold_N50": 652403, "scaffold_N90": 111485}, {"scaffold_length": 410354770, "max_scaffold": 4466334, "busco_missing": 6.7, "gaps": 18834, "total": 1440, "scaffolds": 3711, "contigs": 22545, "min_gap": 10, "gap_length": 42460658, "assembly_gc": 32.8, "min_scaffold": 964, "max_contig": 332008, "busco_dup": 6.0, "busco_fragmented": 1.9, "min_contig": 1, "busco_single": 85.4, "busco_complete": 91.4, "contig_N50": 49808, "contig_length": 367894112, "max_gap": 12270, "assembly_name": "genome.HM095.v1.0", "contig_N90": 6574, "gap_N50": 4280, "scaffold_N50": 751623, "scaffold_N90": 107902}, {"scaffold_length": 406998713, "max_scaffold": 6709429, "busco_missing": 6.1, "gaps": 16342, "total": 1440, "scaffolds": 3666, "contigs": 20008, "min_gap": 10, "gap_length": 35993424, "assembly_gc": 32.9, "min_scaffold": 1000, "max_contig": 549710, "busco_dup": 6.9, "busco_fragmented": 2.2, "min_contig": 1, "busco_single": 84.8, "busco_complete": 91.7, "contig_N50": 50938, "contig_length": 371005289, "max_gap": 13622, "assembly_name": "genome.HM125.v1.0", "contig_N90": 8199, "gap_N50": 4260, "scaffold_N50": 763171, "scaffold_N90": 123182}, {"scaffold_length": 398468296, "max_scaffold": 5629000, "busco_missing": 6.3, "gaps": 16070, "total": 1440, "scaffolds": 3213, "contigs": 19283, "min_gap": 10, "gap_length": 30842401, "assembly_gc": 32.82, "min_scaffold": 976, "max_contig": 404586, "busco_dup": 6.5, "busco_fragmented": 1.9, "min_contig": 1, "busco_single": 85.3, "busco_complete": 91.8, "contig_N50": 53420, "contig_length": 367625895, "max_gap": 10890, "assembly_name": "genome.HM129.v1.0", "contig_N90": 8966, "gap_N50": 3830, "scaffold_N50": 797681, "scaffold_N90": 133613}, {"scaffold_length": 428228061, "max_scaffold": 16133123, "busco_missing": 6.5, "gaps": 18745, "total": 1440, "scaffolds": 3335, "contigs": 22080, "min_gap": 10, "gap_length": 60558025, "assembly_gc": 32.86, "min_scaffold": 903, "max_contig": 318502, "busco_dup": 5.8, "busco_fragmented": 2.1, "min_contig": 1, "busco_single": 85.6, "busco_complete": 91.4, "contig_N50": 49364, "contig_length": 367670036, "max_gap": 20525, "assembly_name": "genome.HM185.v1.0", "contig_N90": 6781, "gap_N50": 6620, "scaffold_N50": 2202872, "scaffold_N90": 185790}, {"scaffold_length": 421810942, "max_scaffold": 4503894, "busco_missing": 6.8, "gaps": 30857, "total": 1440, "scaffolds": 7057, "contigs": 37914, "min_gap": 10, "gap_length": 78729265, "assembly_gc": 32.7, "min_scaffold": 913, "max_contig": 261873, "busco_dup": 5.8, "busco_fragmented": 2.5, "min_contig": 1, "busco_single": 84.9, "busco_complete": 90.7, "contig_N50": 24299, "contig_length": 343081677, "max_gap": 10520, "assembly_name": "genome.HM324.v1.0", "contig_N90": 3220, "gap_N50": 4131, "scaffold_N50": 381318, "scaffold_N90": 40287}, {"scaffold_length": 388188365, "max_scaffold": 7121670, "busco_missing": 6.1, "gaps": 16110, "total": 1440, "scaffolds": 3890, "contigs": 20000, "min_gap": 10, "gap_length": 30622643, "assembly_gc": 32.98, "min_scaffold": 929, "max_contig": 368872, "busco_dup": 6.0, "busco_fragmented": 1.7, "min_contig": 2, "busco_single": 86.2, "busco_complete": 92.2, "contig_N50": 48490, "contig_length": 357565722, "max_gap": 10508, "assembly_name": "genome.R108_HM340.v0.95", "contig_N90": 8410, "gap_N50": 3800, "scaffold_N50": 1120750, "scaffold_N90": 200551}]);
                var assembly_header = [{"title": "Assembly Name"}, {"title": "Total BUSCOs"}, {"title": "BUSCO Complete"}, {"title": "BUSCO Complete Single"}, {"title": "BUSCO Complete Duplicate"}, {"title": "BUSCO Fragmented"}, {"title": "Busco Missing"}, {"title": "Scaffolds"}, {"title": "Bases in Scaffolds"}, {"title": "Scaffold N50"}, {"title": "Scaffold N90"}, {"title": "Max Scaffold"}, {"title": "Min Scaffold"}, {"title": "Contigs"}, {"title": "Bases in Contigs"}, {"title": "Contig N50"}, {"title": "Contig N90"}, {"title": "Max Contig"}, {"title": "Min Contig"}, {"title": "Gaps"}, {"title": "Bases in Gaps"}, {"title": "Gap N50"}, {"title": "Max Gap"}, {"title": "Min Gap"}];
                var assembly_data_table = [["genome.A17_HM341.v3.5.1", 1440, 83.1, 76.0, 7.1, 6.8, 10.1, 67551, 421833506, 33997684, 1681, 47385368, 62, 74167, 371641938, 138846, 1475, 10692405, 1, 6616, 50191568, 150000, 250000, 10], ["genome.A17_HM341.v4.0", 1440, 90.6, 84.5, 6.1, 1.9, 7.5, 1949, 411831487, 49172423, 35275713, 56582383, 1004, 7780, 389019804, 342925, 28129, 5331692, 200, 5831, 22811683, 24888, 174450, 10], ["genome.HM004.v1.0", 1440, 91.5, 85.3, 6.2, 2.4, 6.1, 3494, 399385294, 1039400, 128407, 9290596, 958, 21662, 361118835, 45005, 7540, 311906, 1, 18168, 38266459, 4082, 13681, 10], ["genome.HM004.v1", 1440, 91.5, 85.3, 6.2, 2.4, 6.1, 3494, 399385294, 1039400, 128407, 9290596, 958, 21662, 361118835, 45005, 7540, 311906, 1, 18168, 38266459, 4082, 13681, 10], ["genome.HM010.v1.0", 1440, 91.5, 85.3, 6.2, 2.3, 6.2, 3159, 403887869, 718741, 128652, 6544913, 948, 21856, 365935435, 44036, 7790, 379093, 1, 18697, 37952434, 4069, 11030, 10], ["genome.HM010.v1", 1440, 91.5, 85.3, 6.2, 2.3, 6.2, 3159, 403887869, 718741, 128652, 6544913, 948, 21856, 365935435, 44036, 7790, 379093, 1, 18697, 37952434, 4069, 11030, 10], ["genome.HM022.v1.0", 1440, 92.0, 85.3, 6.7, 2.3, 5.7, 2565, 374674840, 1154699, 156702, 8809216, 958, 18676, 343656937, 48583, 8678, 377074, 1, 16111, 31017903, 4025, 10625, 10], ["genome.HM022.v1", 1440, 92.0, 85.3, 6.7, 2.3, 5.7, 2565, 374674840, 1154699, 156702, 8809216, 958, 18676, 343656937, 48583, 8678, 377074, 1, 16111, 31017903, 4025, 10625, 10], ["genome.HM023.v1.0", 1440, 91.6, 85.4, 6.2, 2.2, 6.2, 3728, 403142311, 620702, 94300, 5130354, 960, 21118, 361243464, 46637, 7777, 372044, 1, 17390, 41898847, 4615, 12412, 10], ["genome.HM023.v1", 1440, 91.6, 85.4, 6.2, 2.2, 6.2, 3728, 403142311, 620702, 94300, 5130354, 960, 21118, 361243464, 46637, 7777, 372044, 1, 17390, 41898847, 4615, 12412, 10], ["genome.HM034.v1.0", 1440, 91.6, 84.7, 6.9, 2.3, 6.1, 3267, 396665787, 727454, 129197, 6140737, 947, 19913, 362786782, 49967, 8562, 374291, 1, 16646, 33879005, 4059, 11795, 10], ["genome.HM034.v1", 1440, 91.6, 84.7, 6.9, 2.3, 6.1, 3267, 396665787, 727454, 129197, 6140737, 947, 19913, 362786782, 49967, 8562, 374291, 1, 16646, 33879005, 4059, 11795, 10], ["genome.HM050.v1.0", 1440, 91.7, 85.6, 6.1, 2.2, 6.1, 3234, 406245560, 1370679, 159699, 8622067, 941, 21321, 366441111, 47949, 7778, 349806, 1, 18087, 39804449, 4490, 14775, 10], ["genome.HM050.v1", 1440, 91.7, 85.6, 6.1, 2.2, 6.1, 3234, 406245560, 1370679, 159699, 8622067, 941, 21321, 366441111, 47949, 7778, 349806, 1, 18087, 39804449, 4490, 14775, 10], ["genome.HM056.v1", 1440, 91.8, 85.4, 6.4, 2.2, 6.0, 3486, 406705336, 718332, 114872, 5985141, 952, 23758, 362971816, 37411, 6592, 355883, 1, 20272, 43733520, 4609, 12016, 10], ["genome.HM056.v2.0", 1440, 91.8, 85.4, 6.4, 2.2, 6.0, 3486, 406705336, 718332, 114872, 5985141, 952, 23758, 362971816, 37411, 6592, 355883, 1, 20272, 43733520, 4609, 12016, 10], ["genome.HM058.v1.0", 1440, 91.6, 85.7, 5.9, 2.5, 5.9, 4349, 409729257, 518877, 81080, 3222558, 961, 25138, 355004629, 35575, 6231, 350560, 1, 20789, 54724628, 5150, 12450, 10], ["genome.HM058.v1", 1440, 91.6, 85.7, 5.9, 2.5, 5.9, 4349, 409729257, 518877, 81080, 3222558, 961, 25138, 355004629, 35575, 6231, 350560, 1, 20789, 54724628, 5150, 12450, 10], ["genome.HM060.v1.0", 1440, 91.4, 85.0, 6.4, 2.4, 6.2, 3634, 403209823, 652403, 111485, 3832561, 945, 20801, 363308695, 48055, 8065, 396295, 1, 17167, 39901128, 4460, 14475, 10], ["genome.HM095.v1.0", 1440, 91.4, 85.4, 6.0, 1.9, 6.7, 3711, 410354770, 751623, 107902, 4466334, 964, 22545, 367894112, 49808, 6574, 332008, 1, 18834, 42460658, 4280, 12270, 10], ["genome.HM125.v1.0", 1440, 91.7, 84.8, 6.9, 2.2, 6.1, 3666, 406998713, 763171, 123182, 6709429, 1000, 20008, 371005289, 50938, 8199, 549710, 1, 16342, 35993424, 4260, 13622, 10], ["genome.HM129.v1.0", 1440, 91.8, 85.3, 6.5, 1.9, 6.3, 3213, 398468296, 797681, 133613, 5629000, 976, 19283, 367625895, 53420, 8966, 404586, 1, 16070, 30842401, 3830, 10890, 10], ["genome.HM185.v1.0", 1440, 91.4, 85.6, 5.8, 2.1, 6.5, 3335, 428228061, 2202872, 185790, 16133123, 903, 22080, 367670036, 49364, 6781, 318502, 1, 18745, 60558025, 6620, 20525, 10], ["genome.HM324.v1.0", 1440, 90.7, 84.9, 5.8, 2.5, 6.8, 7057, 421810942, 381318, 40287, 4503894, 913, 37914, 343081677, 24299, 3220, 261873, 1, 30857, 78729265, 4131, 10520, 10], ["genome.R108_HM340.v0.95", 1440, 92.2, 86.2, 6.0, 1.7, 6.1, 3890, 388188365, 1120750, 200551, 7121670, 929, 20000, 357565722, 48490, 8410, 368872, 2, 16110, 30622643, 3800, 10508, 10]];
$(document).ready(function(){
    var acount = 0;
    var scount = 0;
    var name_length = 0;
    var assemblyMetrics = assembly_metrics.dimension(function(d){
        acount++;
        if (d.assembly_name.length > name_length){
            name_length = d.assembly_name.length;
        }
        return d.assembly_name;
    });
    var left_margin = name_length * 5 + 20;
    var bottom_margin = name_length * 4 + 10;
    var wa = acount * 30 + left_margin + 60;
    var assemblyMetricsTable = $('#metrics-datatable').dataTable({
        "data": assembly_data_table,
        "columns": assembly_header,
        "colReorder" : {
            fixedColumnsLeft: 1
        },
        "search": {
            "caseInsensitive": true,
            "regex": true
        },
        "select" : true
    });
    var scaffoldContiguity = dc.barChart("#scaffoldContiguity-chart");
    var scaffold_N50 = assemblyMetrics.group().reduceSum(function(d){
        return d.scaffold_N50;
    });
    scaffoldContiguity
        .width(wa)
        .height(600)
        .dimension(assemblyMetrics)
        .margins({top: 50, right: 50, bottom: bottom_margin, left: left_margin})
        .colors('green')
        .group(scaffold_N50, "Scaffold N50")
        .x(d3.scale.ordinal())
        .xUnits(dc.units.ordinal)
        .xAxisLabel("Assembly Identifier")
        .yAxisLabel("Scaffold N50")
        .elasticY(true)
        .transitionDuration(10)
        .legend((dc.legend().x(120).y(0).itemHeight(16).gap(4)))
        .on('renderlet', function(chart){
        chart.selectAll('rect').on('click.custom', function(d){
            var chartI = dc.chartRegistry.list('assemblymetrics_group');
            var table = $('#metrics-datatable').DataTable();
            var rows = $("#metrics-datatable").dataTable()._('tr');
            for (var r = 0; r < rows.length; r++){
                if (rows[r][0] === d.x){
                    var indexes = table.rows().eq( 0 ).filter( function (rowIdx) {
                        return table.cell( rowIdx, 0 ).data() === d.x ? true : false;
                    });
                    if (table.rows(indexes).nodes().to$().hasClass('selected') === false){
                        table.rows(indexes)
                             .nodes()
                             .to$()
                             .addClass('selected');
                        console.log(rows[r], indexes);
                    } else {
                        table.rows(indexes)
                             .nodes()
                             .to$()
                             .removeClass('selected');
                    }
                }
            }
            for (var i = 0; i < chartI.length; i++) {
                if (chartI[i].chartName !== 'scaffoldcontiguity'){
                    chartI[i].filter(d.x);
                    console.log(chartI[i].chartName);
                }
            }
            dc.renderAll();
            console.log(d.x + "thing" + chartI);
        });	
    });
    scaffoldContiguity.chartName = 'scaffoldcontiguity';
    dc.chartRegistry.register(scaffoldContiguity, 'assemblymetrics_group');

    var assemblyBases = dc.barChart("#assemblyBases-chart");
    var contig_bases = assemblyMetrics.group().reduceSum(function(d){
        return d.contig_length;
    });
    var gap_bases = assemblyMetrics.group().reduceSum(function(d){
        return d.gap_length;
    });
    assemblyBases
        .width(wa)
        .height(600)
        .dimension(assemblyMetrics)
        .margins({top: 50, right: 50, bottom: bottom_margin, left: left_margin})
        .title(function(d){
            return d.key + ' ' + this.layer + ' ' + d.value;
        })
        .group(contig_bases, "Bases in Contigs")
        .x(d3.scale.ordinal())
        .xUnits(dc.units.ordinal)
        .xAxisLabel("Assembly Identifier")
        .yAxisLabel("Assembly Bases")
        .elasticY(true)
        .stack(gap_bases, "Bases in Gaps")
        .transitionDuration(10)
        .legend((dc.legend().x(120).y(0).itemHeight(16).gap(4)))
        .on('renderlet', function(chart){
        chart.selectAll('rect').on('click.custom', function(d){
            var chartI = dc.chartRegistry.list('assemblymetrics_group');
            var table = $('#metrics-datatable').DataTable();
            var rows = $("#metrics-datatable").dataTable()._('tr');
            for (var r = 0; r < rows.length; r++){
                if (rows[r][0] === d.x){
                    var indexes = table.rows().eq( 0 ).filter( function (rowIdx) {
                        return table.cell( rowIdx, 0 ).data() === d.x ? true : false;
                    });
                    if (table.rows(indexes).nodes().to$().hasClass('selected') === false){
                        table.rows(indexes)
                             .nodes()
                             .to$()
                             .addClass('selected');
                        console.log(rows[r], indexes);
                    } else {
                        table.rows(indexes)
                             .nodes()
                             .to$()
                             .removeClass('selected');
                    }
                }
            }
            for (var i = 0; i < chartI.length; i++) {
                if (chartI[i].chartName !== 'assemblybases'){
                    chartI[i].filter(d.x);
                    console.log(chartI[i].chartName);
                }
            }
            dc.renderAll();
            console.log(d.x + "thing" + chartI);
        });	
    });
    assemblyBases.chartName = 'assemblybases';
    dc.chartRegistry.register(assemblyBases, 'assemblymetrics_group');
    var buscoComplete = dc.barChart("#buscoComplete-chart");
    var busco_complete = assemblyMetrics.group().reduceSum(function(d){
        return d.busco_complete;
    });
    var busco_fragmented = assemblyMetrics.group().reduceSum(function(d){
        return d.busco_fragmented;
    });
    var busco_missing = assemblyMetrics.group().reduceSum(function(d){
        return d.busco_missing;
    });
    buscoComplete
        .width(wa)
        .height(600)
        .dimension(assemblyMetrics)
        .margins({top: 75, right: 50, bottom: bottom_margin, left: left_margin})
        .title(function(d){
            return d.key + ' ' + this.layer + ' ' + d.value;
        })
        .group(busco_complete, "Complete BUSCOs")
        .x(d3.scale.ordinal())
        .xUnits(dc.units.ordinal)
        .xAxisLabel("Assembly Identifier")
        .yAxisLabel("Percentage")
        .elasticY(true)
        .stack(busco_fragmented, "Fragmented BUSCOs")
        .stack(busco_missing, "Missing BUSCOs")
        .transitionDuration(10)
        .legend((dc.legend().x(120).y(0).itemHeight(16).gap(4)))
        .on('renderlet', function(chart){
        chart.selectAll('rect').on('click.custom', function(d){
            var chartI = dc.chartRegistry.list('assemblymetrics_group');
            var table = $('#metrics-datatable').DataTable();
            var rows = $("#metrics-datatable").dataTable()._('tr');
            for (var r = 0; r < rows.length; r++){
                if (rows[r][0] === d.x){
                    var indexes = table.rows().eq( 0 ).filter( function (rowIdx) {
                        return table.cell( rowIdx, 0 ).data() === d.x ? true : false;
                    });
                    if (table.rows(indexes).nodes().to$().hasClass('selected') === false){
                        table.rows(indexes)
                             .nodes()
                             .to$()
                             .addClass('selected');
                        console.log(rows[r], indexes);
                    } else {
                        table.rows(indexes)
                             .nodes()
                             .to$()
                             .removeClass('selected');
                    }
                }
            }
            for (var i = 0; i < chartI.length; i++) {
                if (chartI[i].chartName !== 'buscocomplete'){
                    chartI[i].filter(d.x);
                    console.log(chartI[i].chartName);
                }
            }
            dc.renderAll();
            console.log(d.x + "thing" + chartI);
        });	
    });
    buscoComplete.chartName = 'buscocomplete';
    dc.chartRegistry.register(buscoComplete, 'assemblymetrics_group');
    dc.renderAll();

    $("#reset-metrics").click(function(){
        var table = $('#metrics-datatable').DataTable();
        var chartI = dc.chartRegistry.list('assemblymetrics_group');
        table.rows('.selected').deselect();
        table.search("").draw();
        var len = $("#metrics-datatable").dataTable()._('tr').length;
        var w = len * 30 + left_margin + 60;
        for (var i = 0; i < chartI.length; i++) {
            if (chartI[i].chartName === 'scaffoldcontiguity'){
                var contiguity= assemblyMetrics.group().reduceSum(function(d){
                    return d.scaffold_N50;
                });
                chartI[i].width(w);
                chartI[i].x(d3.scale.ordinal());
                chartI[i].group(contiguity, "Scaffold N50");
                chartI[i].filter(null);
            }
            else if (chartI[i].chartName === 'assemblybases') {
                var contig_bases = assemblyMetrics.group().reduceSum(function(d){
                    return d.contig_length;
                });
                var gap_bases = assemblyMetrics.group().reduceSum(function(d){
                    return d.gap_length;							
                });
                chartI[i].width(w);
                chartI[i].x(d3.scale.ordinal());
                chartI[i].group(contig_bases, "Bases in Contigs");
                chartI[i].stack(gap_bases, "Bases in Gaps")
                chartI[i].filter(null);
            }
            else if (chartI[i].chartName === 'buscocomplete') {
                var busco_complete = assemblyMetrics.group().reduceSum(function(d){
                    return d.busco_complete;
                });
                var busco_fragmented = assemblyMetrics.group().reduceSum(function(d){
                    return d.busco_fragmented;
                });
                var busco_missing = assemblyMetrics.group().reduceSum(function(d){
                    return d.busco_missing;
                });
                chartI[i].width(w);
                chartI[i].x(d3.scale.ordinal());
                chartI[i].group(busco_complete, "Complete BUSCOs")
                chartI[i].stack(busco_fragmented, "Fragmented BUSCOs")
                chartI[i].stack(busco_missing, "Missing BUSCOs")
                chartI[i].filter(null);
            }
        }
        dc.redrawAll();
        table.order([0, 'asc']).draw();
    });

    $('#metrics-datatable tbody').on('click', 'tr', function(){
        var chartI = dc.chartRegistry.list('assemblymetrics_group');
        var rows = $('#metrics-datatable').DataTable().rows('.selected').data();
        console.log($(this)[0].getElementsByTagName('td')[0].innerText);
        var filtered_samples = assemblyMetrics.top(Infinity);
        console.log(filtered_samples);
        for (var j = 0;j<chartI.length; j++){
            chartI[j].filter(null)
            for (var i = 0;i<rows.length; i++){
                chartI[j].filter(rows[i][0]);
            }
        }
        dc.redrawAll();
    });

    $('#metrics-datatable thead').on('click', 'th', function(){
        var s = [];
        var chartI = dc.chartRegistry.list('assemblymetrics_group');
        var rows = $("#metrics-datatable").dataTable()._('tr', {"filter": "applied"});
        for (var i = 0;i<rows.length;i++){
            s.push(rows[i][0]);
        }
        for (var i = 0;i<chartI.length; i++){
            chartI[i].x(d3.scale.ordinal().domain(s));
        }
        dc.redrawAll();
    });
    $("#metrics-datatable_filter input").on('keyup', function(k){
        var rows = $("#metrics-datatable").dataTable()._('tr', {"filter": "applied"});
        var chartI = dc.chartRegistry.list('assemblymetrics_group');
        var s = [];
        var r = {};
        for (var i = 0;i<rows.length;i++){
            s.push(rows[i][0]);
            r[rows[i][0]] = 1;
        }
        for (var i = 0;i<chartI.length; i++){
            if (chartI[i].chartName === 'scaffoldcontiguity'){
                var contiguity_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.scaffold_N50;
                    }
                });
                var len = rows.length;
                wa = (len * 30) + left_margin + 60;
                chartI[i].width(wa);
                chartI[i].x(d3.scale.ordinal().domain(s));
                chartI[i].group(contiguity_filter, "Scaffold N50");
            }
            else if (chartI[i].chartName === 'assemblybases') {
                var contig_bases_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.contig_length;
                    }
                });
                var gap_bases_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.gap_length;
                    }
                });
                var len = rows.length;
                wa = (len * 30) + left_margin + 60;
                chartI[i].width(wa);
                chartI[i].x(d3.scale.ordinal().domain(s));
                chartI[i].group(contig_bases_filter, "Bases in Contigs");
                chartI[i].stack(gap_bases_filter, "Bases in Gaps")
            }
            else if (chartI[i].chartName === 'buscocomplete') {
                var busco_complete_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.busco_complete;
                    }
                });
                var busco_fragmented_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.busco_fragmented;
                    }
                });
                var busco_missing_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.busco_missing;
                    }
                });
                var len = rows.length;
                wa = (len * 30) + left_margin + 60;
                chartI[i].width(wa);
                chartI[i].x(d3.scale.ordinal().domain(s));
                chartI[i].group(busco_complete_filter, "Complete BUSCOs");
                chartI[i].stack(busco_fragmented_filter, "Fragmented BUSCOs");
                chartI[i].stack(busco_missing_filter, "Missing BUSCOs");
                chartI[i].filter(null);
            }
        }
        dc.renderAll();
    });

    $("#filter-metrics").click(function(d){
        var searchstr = "";
        var s = [];
        var r = {};
        var rows = $('#metrics-datatable').DataTable().rows('.selected').data();
        var table = $('#metrics-datatable').DataTable();
        var chartI = dc.chartRegistry.list('assemblymetrics_group');
        if (rows.length === 0){
            return 0
        }
        for (var i=0;i<rows.length;i++){
            s.push(rows[i][0]);
            r[rows[i][0]] = 1;
            if (searchstr.length < 1){
                searchstr = rows[i][0] + '[^\\S+]';
            } else {
                searchstr += "|" + rows[i][0] + '[^\\S+]';
            }
        }
        table.search(searchstr, 1, true, false).draw();
        for (var i = 0;i<chartI.length; i++){
            if (chartI[i].chartName === 'scaffoldcontiguity'){
                var contiguity_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.scaffold_N50;
                    }
                });
                var len = rows.length;
                wa = (len * 30) + left_margin + 60;
                chartI[i].width(wa);
                chartI[i].x(d3.scale.ordinal().domain(s));
                chartI[i].group(contiguity_filter, "Scaffold N50");
                chartI[i].filter(null);
            }
            else if (chartI[i].chartName === 'assemblybases') {
                var contig_bases_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.contig_length;
                    }
                });
                var gap_bases_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.gap_length;
                    }
                });
                var len = rows.length;
                wa = (len * 30) + left_margin + 60;
                chartI[i].width(wa);
                chartI[i].x(d3.scale.ordinal().domain(s));
                chartI[i].group(contig_bases_filter, "Bases in Contigs");
                chartI[i].stack(gap_bases_filter, "Bases in Gaps");
                chartI[i].filter(null);
            }
            else if (chartI[i].chartName === 'buscocomplete') {
                var busco_complete_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.busco_complete;
                    }
                });
                var busco_fragmented_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.busco_fragmented;
                    }
                });
                var busco_missing_filter = assemblyMetrics.group().reduceSum(function(d){
                    if (r[d.assembly_name] === 1){
                        return d.busco_missing;
                    }
                });
                var len = rows.length;
                wa = (len * 30) + left_margin + 60;
                chartI[i].width(wa);
                chartI[i].x(d3.scale.ordinal().domain(s));
                chartI[i].group(busco_complete_filter, "Complete BUSCOs")
                chartI[i].stack(busco_fragmented_filter, "Fragmented BUSCOs")
                chartI[i].stack(busco_missing_filter, "Missing BUSCOs")
                chartI[i].filter(null);
            }
        }
        table.rows('.selected').deselect();
        dc.renderAll();
    });

    $('a.toggle-vis-metrics').on('click', function(e){
        e.preventDefault();
        var column = $("#metrics-datatable").DataTable().column(':contains(' + $(this).attr('data-column') + ')');
        column.visible(! column.visible());
        color_anchors($(this));
    });
});            </script>
</html>
